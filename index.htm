<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biljämförelse</title>
    <style>
        /* ===== Reset & grundläggande stil ===== */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background-color: #f0f2f5; color: #333; }

        /* ===== Header ===== */
        header {
            background: linear-gradient(90deg, #4b79a1, #283e51);
            color: white;
            padding: 20px 40px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        header h1 { font-size: 2.5rem; animation: fadeIn 1.5s ease-in-out; }
        nav { margin-top: 10px; }
        nav a {
            color: white; margin: 0 15px; text-decoration: none; font-weight: bold; transition: transform 0.3s;
        }
        nav a:hover { transform: scale(1.1); }

        /* ===== Filter & sortering ===== */
        .controls {
            display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin: 20px;
        }
        .controls select, .controls input {
            padding: 10px; border-radius: 5px; border: 1px solid #ccc; min-width: 150px;
        }

        /* ===== Bilkort ===== */
        .car-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px 40px;
        }
        .car-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }
        .car-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .car-card img { width: 100%; border-radius: 10px; margin-bottom: 15px; }
        .car-card h3 { margin-bottom: 10px; }
        .car-card p { margin: 5px 0; }
        .car-card a, .compare-btn {
            display: inline-block; margin-top: 10px; padding: 8px 12px;
            border: none; border-radius: 5px; text-decoration: none; color: white; cursor: pointer;
            background: #4b79a1; transition: background 0.3s, transform 0.3s;
        }
        .car-card a:hover, .compare-btn:hover { background: #283e51; transform: scale(1.05); }

        /* ===== Jämförelsepanel ===== */
        .comparison-panel {
            background: #fff; border-top: 3px solid #4b79a1; padding: 20px 40px;
            display: none; animation: slideIn 0.5s forwards; margin: 20px 0;
        }
        .comparison-panel table {
            width: 100%; border-collapse: collapse; margin-bottom: 15px;
        }
        .comparison-panel th, .comparison-panel td {
            border: 1px solid #ddd; padding: 10px; text-align: center;
        }
        .comparison-panel th { background-color: #4b79a1; color: white; }

        /* ===== Animationer ===== */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* ===== Footer ===== */
        footer { background-color: #283e51; color: white; text-align: center; padding: 15px; margin-top: 40px; }

    </style>
</head>
<body>

<header>
    <h1>Biljämförelse</h1>
    <nav>
        <a href="#">Hem</a>
        <a href="#">Bilar</a>
        <a href="#">Om</a>
        <a href="#">Kontakt</a>
    </nav>
</header>

<section class="controls">
    <input type="text" id="searchInput" placeholder="Sök bilmodell..." onkeyup="filterCars()">
    <select id="fuelFilter" onchange="filterCars()">
        <option value="">Alla bränslen</option>
        <option value="Bensin">Bensin</option>
        <option value="Diesel">Diesel</option>
        <option value="El">El</option>
    </select>
    <select id="seatFilter" onchange="filterCars()">
        <option value="">Alla säten</option>
        <option value="2">2</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="7">7</option>
    </select>
</section>

<section class="car-list" id="carList">
    <!-- Bilkort genereras här via JS -->
</section>

<div class="comparison-panel" id="comparisonPanel">
    <h2>Jämför Bilar</h2>
    <table id="comparisonTable"><tr><th>Specifikation</th></tr></table>
    <button class="compare-btn" onclick="clearComparison()">Rensa jämförelse</button>
</div>

<footer>
    &copy; 2025 Biljämförelse – Alla rättigheter reserverade
</footer>

<script>
    // ===== Bildata =====
    const cars = [
        {
            name: "Volvo XC60",
            price: "450 000 kr",
            fuel: "Diesel",
            year: "2020",
            hp: "250 hk",
            seats: "5",
            description: "En säker och bekväm familjebil.",
            img: "https://via.placeholder.com/300x150?text=Volvo+XC60",
            link: "https://www.volvocars.com/se/cars/xc60"
        },
        {
            name: "BMW X5",
            price: "600 000 kr",
            fuel: "Bensin",
            year: "2021",
            hp: "300 hk",
            seats: "5",
            description: "Sportig SUV med hög prestanda.",
            img: "https://via.placeholder.com/300x150?text=BMW+X5",
            link: "https://www.bmw.se/sv/all-models/x-series/x5/2021/bmw-x5-inspire.html"
        },
        {
            name: "Audi Q7",
            price: "700 000 kr",
            fuel: "Diesel",
            year: "2022",
            hp: "340 hk",
            seats: "7",
            description: "Lyxig SUV för stora familjer.",
            img: "https://via.placeholder.com/300x150?text=Audi+Q7",
            link: "https://www.audi.se/sv/web/sv/models/q7/q7.html"
        }
    ];

    const carList = document.getElementById('carList');
    const comparisonPanel = document.getElementById('comparisonPanel');
    const comparisonTable = document.getElementById('comparisonTable');
    let selectedCars = [];

    // ===== Generera bilkort =====
    function renderCars(list) {
        carList.innerHTML = "";
        list.forEach(car => {
            const card = document.createElement('div');
            card.classList.add('car-card');
            card.innerHTML = `
                <img src="${car.img}" alt="${car.name}">
                <h3>${car.name}</h3>
                <p>Pris: ${car.price}</p>
                <p>Bränsle: ${car.fuel}</p>
                <p>Årsmodell: ${car.year}</p>
                <p>Hästkrafter: ${car.hp}</p>
                <p>Säten: ${car.seats}</p>
                <p>${car.description}</p>
                <button class="compare-btn" onclick="addToCompare('${car.name}')">Jämför</button>
                <a href="${car.link}" target="_blank">Besök hemsida</a>
            `;
            carList.appendChild(card);
        });
    }

    renderCars(cars);

    // ===== Filterfunktion =====
    function filterCars() {
        const searchValue = document.getElementById('searchInput').value.toLowerCase();
        const fuelValue = document.getElementById('fuelFilter').value;
        const seatValue = document.getElementById('seatFilter').value;

        const filtered = cars.filter(car => {
            const matchesSearch = car.name.toLowerCase().includes(searchValue);
            const matchesFuel = fuelValue ? car.fuel === fuelValue : true;
            const matchesSeats = seatValue ? car.seats === seatValue : true;
            return matchesSearch && matchesFuel && matchesSeats;
        });
        renderCars(filtered);
    }

    // ===== Jämförelsefunktion =====
    function addToCompare(carName) {
        if(selectedCars.includes(carName)) {
            alert(carName + " är redan tillagd!");
            return;
        }
        selectedCars.push(carName);
        comparisonPanel.style.display = 'block';
        updateComparisonTable();
    }

    function updateComparisonTable() {
        // Reset table
        comparisonTable.innerHTML = "<tr><th>Specifikation</th>" + selectedCars.map(c => `<th>${c}</th>`).join('') + "</tr>";
        const specs = ["Pris", "Bränsle", "Årsmodell", "Hästkrafter", "Säten"];
        specs.forEach(spec => {
            let row = `<tr><td>${spec}</td>`;
            selectedCars.forEach(carName => {
                const car = cars.find(c => c.name === carName);
                row += `<td>${car[spec.toLowerCase()] || car[spec]}</td>`;
            });
            row += "</tr>";
            comparisonTable.innerHTML += row;
        });
    }

    function clearComparison() {
        selectedCars = [];
        comparisonPanel.style.display = 'none';
    }

</script>

</body>
</html>
